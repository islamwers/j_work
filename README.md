# ðŸ“˜ Python-Ð³Ð°Ð¹Ð´ Ð¿Ð¾ ÑÐ¸Ð½Ñ‚Ð°ÐºÑÐ¸ÑÑƒ Ð¸ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ð¸ Ð´Ð»Ñ Ð°Ð½Ð°Ð»Ð¸Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ… (pandas)

Ð­Ñ‚Ð¾Ñ‚ Ð³Ð°Ð¹Ð´ â€” ÐºÑ€Ð°Ñ‚ÐºÐ¸Ð¹, Ð½Ð¾ Ð´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ñ‹Ð¹ Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼ Ð´Ð»Ñ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ Ñ‚Ð¸Ð¿Ð¾Ð²Ñ‹Ñ… Ð·Ð°Ð´Ð°Ð½Ð¸Ð¹ Ð¿Ð¾ Ñ‚Ð°Ð±Ð»Ð¸Ñ‡Ð½Ñ‹Ð¼ Ð´Ð°Ð½Ð½Ñ‹Ð¼:
- Ð¿Ð¾Ñ‡ÐµÐ¼Ñƒ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð¿Ð¸ÑˆÑƒÑ‚ÑÑ ÑÐ¾ ÑÐºÐ¾Ð±ÐºÐ°Ð¼Ð¸ `()`;
- ÐºÐ°Ðº Ð¾Ð±Ñ€Ð°Ñ‰Ð°Ñ‚ÑŒÑÑ Ðº ÐºÐ¾Ð»Ð¾Ð½ÐºÐ°Ð¼ Ñ‡ÐµÑ€ÐµÐ· `[]`;
- ÐºÐ°Ðº Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑ‚Ñ€Ð¾ÐºÐ¸ Ð¸ ÐºÐ¾Ð¼Ð±Ð¸Ð½Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑƒÑÐ»Ð¾Ð²Ð¸Ñ;
- ÐºÐ°Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ‚Ð¾Ñ‡ÐºÐ° `.` (Ð¼ÐµÑ‚Ð¾Ð´Ñ‹ Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð²);
- ÐºÐ°Ðº ÑÑ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ ÑÑ‚Ñ€Ð¾Ðº;
- ÐºÐ°Ðº Ð¾Ð±Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°Ñ‚ÑŒ Ð´Ð°Ñ‚Ñƒ/Ð²Ñ€ÐµÐ¼Ñ;
- ÐºÐ°Ðº Ð½Ð°Ð¹Ñ‚Ð¸ Ð²ÑÑŽ ÑÑ‚Ñ€Ð¾ÐºÑƒ Ñ Ð¼Ð°ÐºÑÐ¸Ð¼ÑƒÐ¼Ð¾Ð¼ (`idxmax` + `loc`);
- ÐºÐ°Ðº Ð¿Ð¾ÑÑ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ IQR (Ð¼ÐµÐ¶ÐºÐ²Ð°Ñ€Ñ‚Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ Ñ€Ð°Ð·Ð¼Ð°Ñ…).

ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ Ñ€Ð°ÑÑÑ‡Ð¸Ñ‚Ð°Ð½Ñ‹ Ð½Ð° Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñƒ Airbnb-Ð¿Ð¾Ð´Ð¾Ð±Ð½Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ… (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, `train_B.csv`).

---

## 1) Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð´Ð°Ð½Ð½Ñ‹Ñ…

```python
import pandas as pd

# CSV:
df = pd.read_csv("train_B.csv")

# Excel:
# df = pd.read_excel("train_B.xlsx")
```

ÐŸÐ¾Ð»ÐµÐ·Ð½Ð¾ ÑÑ€Ð°Ð·Ñƒ Ð¿Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñƒ:
```python
df.head()     # Ð¿ÐµÑ€Ð²Ñ‹Ðµ ÑÑ‚Ñ€Ð¾ÐºÐ¸
df.info()     # Ñ‚Ð¸Ð¿Ñ‹ ÐºÐ¾Ð»Ð¾Ð½Ð¾Ðº Ð¸ Ð¿Ñ€Ð¾Ð¿ÑƒÑÐºÐ¸
df.columns    # ÑÐ¿Ð¸ÑÐ¾Ðº ÐºÐ¾Ð»Ð¾Ð½Ð¾Ðº
```
2) ÐŸÐ¾Ñ‡ÐµÐ¼Ñƒ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð¿Ð¸ÑˆÑƒÑ‚ÑÑ ÑÐ¾ ÑÐºÐ¾Ð±ÐºÐ°Ð¼Ð¸ ()

Ð’ Python Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ â€” ÑÑ‚Ð¾ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ðµ Ð½ÑƒÐ¶Ð½Ð¾ Ð²Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¾Ð½Ð¾ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ð»Ð¾ÑÑŒ.
Ð¡ÐºÐ¾Ð±ÐºÐ¸ () Ð·Ð°Ð¿ÑƒÑÐºÐ°ÑŽÑ‚ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ Ð¸ Ð¿ÐµÑ€ÐµÐ´Ð°ÑŽÑ‚ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ñ‹.

```python
max([3, 1, 9])   # Ð²ÐµÑ€Ð½Ñ‘Ñ‚ 9
len(df)          # Ð²ÐµÑ€Ð½Ñ‘Ñ‚ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ ÑÑ‚Ñ€Ð¾Ðº
print("Hello!")  # Ð²Ñ‹Ð²ÐµÐ´ÐµÑ‚ Ñ‚ÐµÐºÑÑ‚
```

max Ð±ÐµÐ· ÑÐºÐ¾Ð±Ð¾Ðº â€” ÑÑ‚Ð¾ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð¸Ð¼Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ (ÑÑÑ‹Ð»ÐºÐ°), Ð¾Ð½Ð° Ð½Ðµ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑÑ.

Ð”Ð°Ð¶Ðµ Ð±ÐµÐ· Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð² ÑÐºÐ¾Ð±ÐºÐ¸ Ð½ÑƒÐ¶Ð½Ñ‹: func().

3) ÐšÐ°Ðº Ð¾Ð±Ñ€Ð°Ñ‰Ð°Ñ‚ÑŒÑÑ Ðº ÐºÐ¾Ð»Ð¾Ð½ÐºÐ°Ð¼ Ñ‡ÐµÑ€ÐµÐ· []

df â€” ÑÑ‚Ð¾ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ð° (DataFrame).
Ð”Ð¾ÑÑ‚ÑƒÐ¿ Ðº ÐºÐ¾Ð»Ð¾Ð½ÐºÐµ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ÑÑ Ð¿Ð¾ Ð¸Ð¼ÐµÐ½Ð¸ Ð² ÐºÐ²Ð°Ð´Ñ€Ð°Ñ‚Ð½Ñ‹Ñ… ÑÐºÐ¾Ð±ÐºÐ°Ñ… â€” ÐºÐ°Ðº Ðº Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸ÑŽ Ð¿Ð¾ ÐºÐ»ÑŽÑ‡Ñƒ Ð² ÑÐ»Ð¾Ð²Ð°Ñ€Ðµ:

```python
df['price']       # ÑÑ‚Ð¾Ð»Ð±ÐµÑ† Ñ Ñ†ÐµÐ½Ð°Ð¼Ð¸ (Series)
df['room type']   # ÑÑ‚Ð¾Ð»Ð±ÐµÑ† Ñ Ñ‚Ð¸Ð¿Ð¾Ð¼ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹
```

ÐšÐ¾Ð»Ð¾Ð½ÐºÐ° â€” ÑÑ‚Ð¾ Ð¾Ð±ÑŠÐµÐºÑ‚ Series, Ðº Ð½ÐµÐ¼Ñƒ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÑÑ‚ÑŒ Ð¼ÐµÑ‚Ð¾Ð´Ñ‹:
```python
df['price'].max()
df['price'].mean()
df['room type'].unique()
```

4) Ð¤Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ñ ÑÑ‚Ñ€Ð¾Ðº Ð¿Ð¾ ÑƒÑÐ»Ð¾Ð²Ð¸ÑŽ

Ð‘Ð°Ð·Ð¾Ð²Ñ‹Ð¹ ÑˆÐ°Ð±Ð»Ð¾Ð½: df[ÑƒÑÐ»Ð¾Ð²Ð¸Ðµ].
```python
df[df['price'] > 100]  # ÑÑ‚Ñ€Ð¾ÐºÐ¸, Ð³Ð´Ðµ Ñ†ÐµÐ½Ð° > 100
```
ÐšÐ¾Ð¼Ð±Ð¸Ð½Ð°Ñ†Ð¸Ñ ÑƒÑÐ»Ð¾Ð²Ð¸Ð¹

- & â€” Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð˜

- | â€” Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð˜Ð›Ð˜

- ==, >, <, >=, <= â€” ÑÑ€Ð°Ð²Ð½ÐµÐ½Ð¸Ñ

Ð’Ð°Ð¶Ð½Ð¾: ÐºÐ°Ð¶Ð´Ð¾Ðµ ÑƒÑÐ»Ð¾Ð²Ð¸Ðµ Ð±ÐµÑ€Ñ‘Ð¼ Ð² ÑÐºÐ¾Ð±ÐºÐ¸ ().

Ð§Ð°ÑÑ‚Ñ‹Ðµ Ð¿Ð°Ñ‚Ñ‚ÐµÑ€Ð½Ñ‹
```python
# ÐÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¹:
df[df['borough'].isin(['Brooklyn', 'Queens'])]

# Ð¡Ñ‚Ñ€Ð¾ÐºÐ¾Ð²Ñ‹Ðµ Ð¿Ð¾Ð´ÑÑ‚Ñ€Ð¾ÐºÐ¸ (Ð¿Ñ€ÐµÐ´Ð²Ð°Ñ€Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ ÑƒÐ±ÐµÐ´Ð¸ÑÑŒ, Ñ‡Ñ‚Ð¾ Ñ‚Ð¸Ð¿ â€” str):
df[df['name'].str.contains('cozy', case=False, na=False)]

# Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ ÑÑ‚Ñ€Ð¾ÐºÐ¸ Ñ Ð¿Ñ€Ð¾Ð¿ÑƒÑÐºÐ°Ð¼Ð¸ Ð² Ð½ÑƒÐ¶Ð½Ñ‹Ñ… ÐºÐ¾Ð»Ð¾Ð½ÐºÐ°Ñ…:
clean = df.dropna(subset=['price', 'room type'])
```

5) Ð¢Ð¾Ñ‡ÐºÐ° .: Ð²Ñ‹Ð·Ð¾Ð² Ð¼ÐµÑ‚Ð¾Ð´Ð¾Ð² Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð²

Ð¢Ð¾Ñ‡ÐºÐ° . Ð¾Ð±Ñ€Ð°Ñ‰Ð°ÐµÑ‚ÑÑ Ðº Ð¼ÐµÑ‚Ð¾Ð´Ñƒ Ð¸Ð»Ð¸ Ð°Ñ‚Ñ€Ð¸Ð±ÑƒÑ‚Ñƒ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ð¾Ð³Ð¾ Ð¾Ð±ÑŠÐµÐºÑ‚Ð°.
ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ Ð¿Ð¾Ð»ÐµÐ·Ð½Ñ‹Ñ… Ð¼ÐµÑ‚Ð¾Ð´Ð¾Ð² Ð´Ð»Ñ ÐºÐ¾Ð»Ð¾Ð½Ð¾Ðº (Series):

| ÐœÐµÑ‚Ð¾Ð´                 | ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ                          |
| --------------------- | ----------------------------------- |
| `.mean()`             | ÑÑ€ÐµÐ´Ð½ÐµÐµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ                    |
| `.median()`           | Ð¼ÐµÐ´Ð¸Ð°Ð½Ð°                             |
| `.max()`, `.min()`    | Ð¼Ð°ÐºÑÐ¸Ð¼ÑƒÐ¼ / Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼                  |
| `.value_counts()`     | ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ ÑƒÐ½Ð¸ÐºÐ°Ð»ÑŒÐ½Ñ‹Ñ… ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¹     |
| `.unique()`           | ÑƒÐ½Ð¸ÐºÐ°Ð»ÑŒÐ½Ñ‹Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ                 |
| `.quantile(q)`        | ÐºÐ²Ð°Ð½Ñ‚Ð¸Ð»ÑŒ (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, `0.25`, `0.75`) |
| `.isna()`, `.notna()` | Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð½Ð° Ð¿Ñ€Ð¾Ð¿ÑƒÑÐºÐ¸                |

ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹:

```python
df['price'].mean()
df['room type'].value_counts()
df['price'].quantile(0.25), df['price'].quantile(0.75)
```

6) ÐŸÐ¾Ð´ÑÑ‡Ñ‘Ñ‚ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð° ÑÑ‚Ñ€Ð¾Ðº: len(...)

```python
len(df)                               # Ð¾Ð±Ñ‰ÐµÐµ Ñ‡Ð¸ÑÐ»Ð¾ ÑÑ‚Ñ€Ð¾Ðº
len(df[df['price'] > 200])            # ÑÑ‚Ñ€Ð¾Ðº Ñ Ñ†ÐµÐ½Ð¾Ð¹ > 200
len(df[(df['borough'] == 'Brooklyn') & (df['price'] <= 100)])
```

7) Ð Ð°Ð±Ð¾Ñ‚Ð° Ñ Ð´Ð°Ñ‚Ð¾Ð¹/Ð²Ñ€ÐµÐ¼ÐµÐ½ÐµÐ¼
ÐŸÑ€Ð¸Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ Ñ‚ÐµÐºÑÑ‚Ð° Ðº datetime
```python
df['last booking'] = pd.to_datetime(df['last booking'], errors='coerce')

Ð˜Ð·Ð²Ð»ÐµÑ‡ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ð¾Ð²
df['booking_hour'] = df['last booking'].dt.hour
df['booking_date'] = df['last booking'].dt.date
df['booking_weekday'] = df['last booking'].dt.day_name()  # Ð¸Ð¼Ñ Ð´Ð½Ñ Ð½ÐµÐ´ÐµÐ»Ð¸

Ð¤Ð¸Ð»ÑŒÑ‚Ñ€ Ð¿Ð¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, 04:00â€“11:59)
morning = df[(df['booking_hour'] >= 4) & (df['booking_hour'] <= 11)]
len(morning)
```

ðŸ’¡ Ð¡Ð¾Ð²ÐµÑ‚: Ð²ÑÐµÐ³Ð´Ð° ÑÐ½Ð°Ñ‡Ð°Ð»Ð° Ð¿Ñ€Ð¸Ð²Ð¾Ð´Ð¸Ñ‚Ðµ ÐºÐ¾Ð»Ð¾Ð½ÐºÑƒ Ðº datetime, Ð¸Ð½Ð°Ñ‡Ðµ .dt Ð½Ðµ ÑÑ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚.

8) ÐÐ°Ð¹Ñ‚Ð¸ Ð²ÑÑŽ ÑÑ‚Ñ€Ð¾ÐºÑƒ Ñ Ð¼Ð°ÐºÑÐ¸Ð¼ÑƒÐ¼Ð¾Ð¼: idxmax() + loc

Ð•ÑÐ»Ð¸ Ð½ÑƒÐ¶Ð½Ð¾ Ð½Ðµ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ñ‡Ð¸ÑÐ»Ð¾-Ð¼Ð°ÐºÑÐ¸Ð¼ÑƒÐ¼, Ð° Ð²ÑÑ Ð·Ð°Ð¿Ð¸ÑÑŒ, Ð³Ð´Ðµ Ð¾Ð½ Ð²ÑÑ‚Ñ€ÐµÑ‚Ð¸Ð»ÑÑ:
```python
idx = df['price'].idxmax()  # Ð¸Ð½Ð´ÐµÐºÑ ÑÑ‚Ñ€Ð¾ÐºÐ¸ Ñ max Ñ†ÐµÐ½Ð¾Ð¹
row = df.loc[idx]           # Ð²ÑÑ ÑÑ‚Ñ€Ð¾ÐºÐ°
```

ÐšÐ¾Ñ€Ð¾Ñ‚ÐºÐ¾:
```python
df.loc[df['price'].idxmax()]
```

ÐšÐ¾Ð¼Ð±Ð¸Ð½Ð°Ñ†Ð¸Ñ Ñ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸ÐµÐ¹ (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Shared room 2009 Ð³Ð¾Ð´Ð°):
```python
filtered = df[(df['room type'] == 'Shared room') & (df['construction year'] == 2009)]
top_row = filtered.loc[filtered['price'].idxmax()]
```






